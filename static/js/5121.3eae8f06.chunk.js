"use strict";(self.webpackChunkloft=self.webpackChunkloft||[]).push([[5121],{85121:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var r=t(15861),c=t(29439),s=t(87757),o=t.n(s),i=t(74511),a=t(24149),u=t(16106),l=t(90841),x=t(29596),d=t(67056),p=t(31881),h=t.n(p),b=t(69172),j=t(2360),f=t(24511),m=t(97890),g=t(29466),v=t(58821),w=t(47313),k=t(5958),C=t(46417);function T(){var e=(0,f.$)().t,n=(0,m.s0)(),t=(0,i.pm)(),s=(0,w.useState)(null),p=(0,c.Z)(s,2),T=p[0],y=p[1],Z=function(){var e=(0,r.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h().get("".concat((0,b.Z)(),"/user/get_users"),{headers:{Authorization:"Bearer ".concat((0,j.Z)())}});case 3:t=e.sent,(r=t.data).error&&n("/"),y(r.users),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n("/");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,w.useEffect)((function(){Z()}),[]);var z=function(e){return(0,C.jsx)(a.u,{borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",label:e.name,hasArrow:!0,placement:"top",children:(0,C.jsx)(u.hU,{icon:e.icon,fontSize:"20px",variant:"ghost",_hover:{color:"main"},onClick:e.onClick})})},S=function(){var e=(0,r.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h().post("".concat((0,b.Z)(),"/user/delete_user"),{id:n},{headers:{Authorization:"Bearer ".concat((0,j.Z)())}});case 3:Z(),t({position:"top",title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0434\u0430\u043b\u0435\u043d",status:"success",duration:3e3,isClosable:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({position:"top",title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",description:"".concat(e.t0),status:"error",duration:3e3,isClosable:!0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return(0,C.jsxs)(l.Kq,{direction:"column",spacing:["20px","25px"],children:[(0,C.jsxs)(l.Kq,{direction:["column","row"],spacing:"15px",justifyContent:"space-between",children:[(0,C.jsx)(l.X6,{children:e("menu.subaccounts")}),(0,C.jsx)(g.rU,{to:"/sub-accounts/create",children:(0,C.jsx)(u.zx,{colorScheme:"teal",rightIcon:(0,C.jsx)(v.B8K,{}),children:e("subaccounts.create")})})]}),T&&(0,C.jsx)(x.xJ,{borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",bgColor:"white",children:(0,C.jsxs)(x.iA,{children:[(0,C.jsx)(x.hr,{children:(0,C.jsxs)(x.Tr,{children:[(0,C.jsx)(x.Th,{children:e("subaccounts.table.email")}),(0,C.jsx)(x.Th,{children:e("subaccounts.table.login")}),(0,C.jsx)(x.Th,{children:e("subaccounts.table.name")}),(0,C.jsx)(x.Th,{children:e("subaccounts.table.status")})]})}),0===T.length&&(0,C.jsx)(x.Rn,{fontWeight:"bold",paddingBottom:6,color:"gray.500",children:e("subaccounts.table.null")}),(0,C.jsx)(x.p3,{children:T.map((function(e){return(0,C.jsxs)(x.Tr,{children:[(0,C.jsx)(x.Td,{children:e.email}),(0,C.jsx)(x.Td,{children:e.username}),(0,C.jsx)(x.Td,{children:e.name}),(0,C.jsx)(x.Td,{children:(0,C.jsxs)(l.Kq,{direction:"row",spacing:"5px",children:[(0,C.jsx)(z,{name:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",icon:(0,C.jsx)(k.Hlf,{}),onClick:function(){n("/sub-accounts/edit/".concat(e.id))}}),(0,C.jsx)(z,{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",icon:(0,C.jsx)(v.yvY,{}),onClick:function(){S(e.id)}})]})})]})}))})]})})||(0,C.jsx)(l.M5,{children:(0,C.jsx)(d.$,{size:"xl",color:"main"})})]})}}}]);