"use strict";(self.webpackChunkloft=self.webpackChunkloft||[]).push([[7847],{56646:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(4942),o=n(29439),i=n(90841),a=n(47313),s=n(65476),c=n(24511),l=n(70816),x=n.n(l),u=(n(17009),n(29466)),d=n(46417);function p(e){var t,n=(0,c.$)(),l=(n.t,n.i18n.language);x().locale(l);var p=e.title,h=e.body,f=e.date,b=(e.isMain,e.id),m="";e.isAdmin&&(m="/admin");var j=(0,a.useState)(!1),v=(0,o.Z)(j,2);v[0],v[1],new Date(f).getMonth();return(0,d.jsx)(i.xu,(t={borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",bgColor:"white"},(0,r.Z)(t,"style",{minHeight:"187px",maxHeight:"187px",boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)",transitionProperty:"background-color,border-color,color,fill,stroke,opacity,box-shadow,transform",transitionDuration:"200ms"}),(0,r.Z)(t,"as",i.rU),(0,r.Z)(t,"_hover",{borderColor:"main",textDecoration:"none"}),(0,r.Z)(t,"overflow","hidden"),(0,r.Z)(t,"as",u.rU),(0,r.Z)(t,"to","".concat(m,"/news/").concat(b)),(0,r.Z)(t,"children",(0,d.jsxs)(i.xu,{m:"20px",children:[(0,d.jsx)(i.xv,{fontSize:"sm",mb:"10px",children:x()(f).format("LL")}),(0,d.jsx)(i.xv,{fontSize:"2xl",mb:"10px",children:p}),(0,d.jsx)(i.xu,{children:(0,d.jsx)(i.xv,{mb:"10px",style:{fontSize:"11pt",color:"black",fontWeight:"400",fontStyle:"normal",fontVariant:"normal",textDecoration:"none",verticalAlign:"baseline"},children:(0,s.ZP)(h)})})]})),t))}},37847:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(1413),o=n(15861),i=n(29439),a=n(87757),s=n.n(a),c=n(74511),l=n(64153),x=n(90841),u=n(16106),d=n(67056),p=n(31554),h=n(44415),f=n(12520),b=n(8710),m=n(47313),j=n(31881),v=n.n(j),g=n(69172),w=n(2360),Z=n(56646),y=n(75627),S=n(46417);function k(){var e=(0,m.useState)(null),t=(0,i.Z)(e,2),n=t[0],a=t[1],j=(0,m.useState)(!1),k=(0,i.Z)(j,2),z=k[0],C=k[1],_=(0,m.useState)(!1),I=(0,i.Z)(_,2),L=I[0],A=I[1],D=(0,c.pm)(),M=(0,y.cI)(),W=M.register,X=M.handleSubmit,q=(0,l.qY)(),B=q.isOpen,F=q.onOpen,H=q.onClose,O=function(){var e=(0,o.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v().get("".concat((0,g.Z)(),"/user/get_news"),{headers:{authorization:"Bearer ".concat((0,w.Z)())}});case 2:0===(t=e.sent).data.news.length?(a(null),C(!0)):(a(t.data.news),C(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){var e=function(){var e=(0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();z||e()}),[]);var R=function(){var e=(0,o.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,v().post("".concat((0,g.Z)(),"/admin/new_news"),t,{headers:{authorization:"Bearer ".concat((0,w.Z)())}});case 4:n=e.sent,(r=n.data).error?D({position:"top",title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",description:r.error,status:"error",duration:3e3,isClosable:!0}):D({position:"top",title:"\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0430!",status:"success",duration:3e3,isClosable:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),D({position:"top",title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",description:e.t0,status:"error",duration:3e3,isClosable:!0});case 12:O(),H(),A(!1);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,S.jsxs)(x.xu,{children:[(0,S.jsxs)(x.xu,{children:[(0,S.jsx)(x.X6,{children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"}),(0,S.jsx)(u.zx,{mt:"10px",mb:"10px",colorScheme:"teal",variant:"outline",_focus:{boxShadow:"none!important"},_active:{boxShadow:"none!important"},onClick:F,isLoading:L,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c"}),!z&&(0,S.jsx)(d.$,{color:"teal",size:"xl"}),z&&(0,S.jsx)(x.xu,{children:!n&&(0,S.jsx)(x.X6,{mt:"10px",size:"lg",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}),n&&(0,S.jsx)(x.MI,{mt:"10px",columns:[1,2],spacing:"20px",children:n.map((function(e){return(0,S.jsx)(Z.Z,{title:e.title,body:e.body,date:e.created_at,id:e.id,isAdmin:!0})}))})]}),(0,S.jsxs)(p.u_,{isOpen:B,onClose:H,children:[(0,S.jsx)(p.ZA,{backdropFilter:"blur(5px)"}),(0,S.jsxs)(p.hz,{children:[(0,S.jsx)(p.xB,{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c"}),(0,S.jsx)(p.ol,{}),(0,S.jsx)(p.fe,{children:(0,S.jsxs)("form",{onSubmit:X(R),children:[(0,S.jsxs)(h.NI,{children:[(0,S.jsx)(h.lX,{fontWeight:"bold",htmlFor:"title",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),(0,S.jsx)(f.Input,(0,r.Z)({id:"title",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",type:"text",isRequired:!0},W("title")))]}),(0,S.jsxs)(h.NI,{mt:"10px",children:[(0,S.jsxs)(h.lX,{fontWeight:"bold",htmlFor:"body",children:["\u0422\u0435\u043a\u0441\u0442"," "]}),(0,S.jsx)(b.g,(0,r.Z)({id:"body",placeholder:"\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c HTML",type:"text",isRequired:!0},W("body")))]}),(0,S.jsx)(u.zx,{mt:"10px",w:"100%",colorScheme:"teal",_focus:{boxShadow:"none!important"},_active:{boxShadow:"none!important"},type:"submit",isLoading:L,mb:"20px",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})]})]})]})}}}]);