(self.webpackChunkloft=self.webpackChunkloft||[]).push([[6995],{67228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},22858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},13884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(l){c=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},80521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},63038:function(e,t,n){var r=n(22858),o=n(13884),i=n(60379),s=n(80521);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},60379:function(e,t,n){var r=n(67228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},80156:function(e,t,n){"use strict";n(47313);t.Z=n.p+"static/media/not_found.200d27f810b0b184b0ff5164f1455f07.svg"},7389:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(15861),o=n(29439),i=n(87757),s=n.n(i),c=n(38569),l=n(64153),a=n(74511),x=n(24149),d=n(16106),u=n(29596),p=n(90841),h=n(67056),f=n(31554),j=n(69172),v=n(2360),b=n(31881),m=n.n(b),g=n(47313),w=n(58585),y=n.n(w),S=n(58821),k=n(5958),C=n(24511),_=n(46417);function Z(e){var t=(0,C.$)().t,n=e.track,i=e.isEdit,b=(0,l.qY)(),w=b.isOpen,Z=b.onOpen,z=b.onClose,R=(0,g.useRef)(),W=(0,g.useState)(!1),U=(0,o.Z)(W,2),O=U[0],T=U[1],A=(0,g.useState)(!1),L=(0,o.Z)(A,2),E=L[0],M=L[1],q=(0,a.pm)(),B=(0,c.Q)({src:"".concat((0,j.Z)()).concat(n.wav),loop:!1}),P=B.isPlaying,$=B.toggle,K=function(e){return(0,_.jsx)(x.u,{borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",label:e.name,hasArrow:!0,placement:"top",children:(0,_.jsx)(d.hU,{icon:e.icon,fontSize:"20px",variant:"ghost",_active:{boxShadow:"none!important"},_focus:{boxShadow:"none!important"},onClick:e.onClick})})},D=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,m().post("".concat((0,j.Z)(),"/user/delete_track"),{id:n.id},{headers:{authorization:"Bearer ".concat((0,v.Z)())}});case 4:(t=e.sent).data.error?q({position:"top",title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",description:"".concat(t.data.error),status:"error",duration:9e3,isClosable:!0}):M(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),q({position:"top",title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",description:"".concat(e.t0),status:"error",duration:9e3,isClosable:!0});case 11:T(!1),z();case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();console.log(e);if(!E)return(0,_.jsxs)(u.Tr,{children:[(0,_.jsx)(u.Td,{children:(0,_.jsx)(d.hU,{icon:P?(0,_.jsx)(S.wRS,{}):(0,_.jsx)(S.cuI,{}),variant:"ghost",fontSize:"20px",_hover:{color:"main"},onClick:$})}),(0,_.jsx)(u.Td,{children:n.title}),(0,_.jsx)(u.Td,{children:n.version||"\u041d/\u0410"}),(0,_.jsx)(u.Td,{children:n.artists}),(0,_.jsx)(u.Td,{children:n.author}),(0,_.jsx)(u.Td,{children:n.composer}),(0,_.jsxs)(u.Td,{children:[0===n.explicit&&t("edit.tracklist.explicit.no")||t("edit.tracklist.explicit.yes")," "]}),(0,_.jsx)(u.Td,{children:!O&&(0,_.jsxs)(p.Ug,{spacing:"5px",children:[(0,_.jsx)(K,{icon:(0,_.jsx)(k.JfT,{}),name:t("track.download"),onClick:function(){T(!0),m().get("https://api.codetabs.com/v1/proxy?quest=".concat((0,j.Z)()).concat(n.wav),{responseType:"blob"}).then((function(e){var t=n.version?" (".concat(n.version,")"):"",r="".concat(n.artists," - ").concat(n.title).concat(t,".wav");y()(e.data,r),T(!1)}))}}),i&&(0,_.jsx)(K,{icon:(0,_.jsx)(S.yvY,{}),name:t("track.delete"),onClick:Z})]})||(0,_.jsx)(h.$,{color:"main"})}),(0,_.jsx)(f.aR,{isOpen:w,leastDestructiveRef:R,onClose:z,children:(0,_.jsx)(f.dh,{backdropFilter:"blur(5px)",children:(0,_.jsxs)(f._T,{children:[(0,_.jsx)(f.fY,{fontSize:"lg",fontWeight:"bold",children:t("track.delete")}),(0,_.jsxs)(f.iP,{children:[t("track.delete_1"),' "',n.title,'" ',t("release.delete_2")]}),(0,_.jsxs)(f.xo,{children:[(0,_.jsx)(d.zx,{ref:R,onClick:z,children:t("release.cancel")}),(0,_.jsx)(d.zx,{colorScheme:"red",onClick:D,isLoading:O,ml:3,children:t("release.delete")})]})]})})})]})}},86995:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(4942),o=n(15861),i=n(29439),s=n(87757),c=n.n(s),l=n(74511),a=n(90841),x=n(67056),d=n(78365),u=n(47402),p=n(24711),h=n(8710),f=n(47313),j=n(31881),v=n.n(j),b=n(69172),m=n(2360),g=n(97890),w=(n(60062),n(7389),n(80156)),y=n(24511),S=n(58585),k=n.n(S),C=n(46417);function _(){var e,t=(0,y.$)().t,n=((0,l.pm)(),(0,g.UO)()),s=(0,f.useState)(),j=(0,i.Z)(s,2),S=j[0],_=j[1],Z=(0,f.useState)([]),z=(0,i.Z)(Z,2),R=z[0],W=z[1],U=(0,f.useState)(!1),O=(0,i.Z)(U,2),T=O[0],A=O[1],L=(0,f.useState)(!1),E=(0,i.Z)(L,2),M=E[0],q=E[1],B=(0,f.useState)(!1),P=(0,i.Z)(B,2),$=P[0],K=P[1],D=(0,f.useState)([]),I=(0,i.Z)(D,2),Q=(I[0],I[1],(0,f.useState)(!1)),X=(0,i.Z)(Q,2),F=(X[0],X[1],function(){var e=(0,o.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v().get("".concat((0,b.Z)(),"/user/get_release_info?id=").concat(n.id),{headers:{authorization:"Bearer ".concat((0,m.Z)())}});case 2:(t=e.sent).data.error?K(!0):(_(t.data.release),W(t.data.tracks),A(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());(0,f.useEffect)((function(){T||F()}),[]);var Y=function(){return(0,C.jsx)(a.M5,{children:(0,C.jsx)(x.$,{color:"main",size:"xl"})})},H=function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(!0),v().get("https://api.codetabs.com/v1/proxy?quest=".concat((0,b.Z)()).concat(S.cover),{responseType:"blob"}).then((function(e){var t="".concat(S.artists," - ").concat(S.title,".jpg");k()(e.data,t),q(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,o.Z)(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(!0),v().get("https://api.codetabs.com/v1/proxy?quest=".concat((0,b.Z)()).concat(t.wav),{responseType:"blob"}).then((function(e){var r=t.version?" (".concat(t.version,")"):"",o="".concat(n,". ").concat(t.artists," - ").concat(t.title).concat(r,".wav");k()(e.data,o),q(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.X6,{mb:"20px",size:"xl",children:t("view.release.title")}),$&&(0,C.jsx)(g.Fg,{to:"/404"}),T&&(0,C.jsx)(a.xu,{maxW:"3xl",mt:"20px",borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",bgColor:"white",children:(0,C.jsxs)(a.xu,{m:"20px",children:[(0,C.jsx)(a.xu,{mt:"20px",borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",bgColor:"white",children:(0,C.jsxs)(a.xu,{m:"20px",children:[(0,C.jsx)(a.xv,{fontSize:"xl",fontWeight:"bold",children:t("edit.release.info")}),(0,C.jsxs)(a.Kq,{mt:"10px",spacing:"20px",direction:"row",children:[(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.oM,{w:"120px",h:"120px",children:(0,C.jsx)(d.Ee,(e={src:"".concat((0,b.Z)()).concat(S.cover,"&w=100&h=100"),style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",borderWidth:"1px",fallbackSrc:w.Z,draggable:!1},(0,r.Z)(e,"style",{overflow:"hidden",position:"absolute",inset:"0px",display:"flex",WebkitBoxPack:"center",justifyContent:"center",WebkitBoxAlign:"center",alignItems:"center",width:"100%",height:"100%"}),(0,r.Z)(e,"borderWidth","2px"),(0,r.Z)(e,"style",{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"}),e))}),(0,C.jsx)(a.xu,{mt:"5px",children:M&&(0,C.jsx)(x.$,{color:"main",size:"sm"})||(0,C.jsx)(a.rU,{color:"main",_hover:{textDecoration:"none",color:"teal.600"},onClick:function(){H()},children:t("track.download")})})]}),(0,C.jsxs)(a.Kq,{direction:"column",spacing:"20px",children:[(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.xv,{fontWeight:"bold",children:S.title||"-"}),(0,C.jsx)(a.xv,{children:S.artists||"-"})]}),(0,C.jsx)(a.xu,{children:(0,C.jsxs)(a.Kq,{direction:["column","row"],spacing:"20px",children:[(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.xv,{fontSize:"sm",children:t("edit.release.type")}),(0,C.jsx)(a.xv,{children:S.type||"-"})]}),(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.xv,{fontSize:"sm",children:"UPC"}),(0,C.jsx)(a.xv,{children:S.upc||"-"})]})]})})]})]}),(0,C.jsx)(a.xu,{mt:"10px",children:(0,C.jsxs)(a.Kq,{direction:["column","row"],spacing:"20px",children:[(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.xv,{fontSize:"sm",fontWeight:"bold",children:t("edit.release.version")}),(0,C.jsx)(a.xv,{children:S.version||"-"})]}),(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.xv,{fontSize:"sm",fontWeight:"bold",children:t("edit.release.genre")}),(0,C.jsx)(a.xv,{children:S.genre||"-"})]}),(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.xv,{fontSize:"sm",fontWeight:"bold",children:t("edit.release.date")}),(0,C.jsx)(a.xv,{children:S.date||"-"})]}),(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.xv,{fontSize:"sm",fontWeight:"bold",children:t("edit.release.date.preorder")}),(0,C.jsx)(a.xv,{children:S.preorder_date||"-"})]})]})})]})}),(0,C.jsx)(a.xu,{borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",bgColor:"white",mt:"20px",children:(0,C.jsxs)(a.xu,{m:"20px",children:[(0,C.jsx)(a.xv,{fontSize:"xl",fontWeight:"bold",children:t("view.tracklist.additional")}),(0,C.jsx)(a.xu,{mt:"10px",children:(0,C.jsxs)(a.Kq,{direction:"column",spacing:"10px",children:[(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.xv,{fontSize:"sm",fontWeight:"bold",children:t("edit.release.copyright")}),(0,C.jsx)(a.xv,{children:S.copyright||"-"})]}),(0,C.jsx)(u.XZ,{defaultChecked:!!S.premiere_for_russia,isReadOnly:!0,colorScheme:"teal",children:t("edit.release.add.premiere_for_russia")}),(0,C.jsx)(u.XZ,{defaultChecked:!!S.realtime,isReadOnly:!0,colorScheme:"teal",children:t("edit.release.add.realtime")})]})})]})}),(0,C.jsx)(a.xu,{mt:"20px",borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",bgColor:"white",children:(0,C.jsxs)(a.xu,{m:"20px",children:[(0,C.jsx)(a.xv,{fontSize:"xl",fontWeight:"bold",children:t("edit.tab.tracklist")}),(0,C.jsx)(a.xu,{mt:"10px",w:"full",children:(0,C.jsx)(p.UQ,{w:"full",allowMultiple:!0,children:R.map((function(e,n){return(0,C.jsxs)(p.Qd,{children:[(0,C.jsxs)(p.KF,{children:[(0,C.jsx)(a.xu,{flex:"1",textAlign:"left",children:(0,C.jsxs)(a.xv,{fontSize:"md",children:[n+1,". ",e.title," ",e.explicit&&(0,C.jsx)(a.Ct,{children:"e"})||""," ",e.version&&(0,C.jsx)("span",{style:{color:"#4B5563"},children:e.version})]})}),(0,C.jsx)(p.XE,{})]}),(0,C.jsxs)(p.Hk,{pb:4,children:[(0,C.jsxs)(a.xu,{children:[(0,C.jsx)(a.xv,{fontSize:"lg",fontWeight:"bold",children:t("view.tracklist.persons")}),(0,C.jsxs)(a.xu,{mt:"20px",children:[(0,C.jsxs)(a.xv,{fontSize:"md",children:[e.artists," ",(0,C.jsx)(a.Ct,{children:t("analytics.table.artist")})]}),(0,C.jsxs)(a.xv,{mt:"10px",fontSize:"md",children:[e.author," ",(0,C.jsx)(a.Ct,{children:t("view.tracklist.author")})]}),(0,C.jsxs)(a.xv,{mt:"10px",fontSize:"md",children:[e.composer," ",(0,C.jsx)(a.Ct,{children:t("view.tracklist.composer")})]})]})]}),(0,C.jsxs)(a.xu,{mt:"20px",children:[(0,C.jsx)(a.xv,{fontSize:"lg",fontWeight:"bold",children:t("view.tracklist.additional")}),(0,C.jsx)(a.xu,{mt:"20px",children:(0,C.jsx)(u.XZ,{defaultChecked:!!e.explicit,isReadOnly:!0,colorScheme:"teal",children:"Explicit Content"})})]}),(0,C.jsx)(a.xu,{mt:"10px",children:M&&(0,C.jsx)(x.$,{color:"main",size:"sm"})||(0,C.jsx)(a.rU,{color:"main",_hover:{textDecoration:"none",color:"teal.600"},onClick:function(){J(e,n+1)},children:t("track.download")})})]})]})}))})})]})}),(0,C.jsx)(a.xu,{mt:"20px",borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",bgColor:"white",children:(0,C.jsxs)(a.xu,{m:"20px",children:[(0,C.jsx)(a.xv,{fontSize:"xl",fontWeight:"bold",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u0430"}),(0,C.jsx)(h.g,{isDisabled:M,defaultValue:S.comment,mt:"10px",id:"comment",isReadOnly:!0})]})})]})})||(0,C.jsx)(Y,{})]})}},58585:function(e){e.exports=function(e,t,n,r){var o=new Blob("undefined"!==typeof r?[r,e]:[e],{type:n||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(o,t);else{var i=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(o):window.webkitURL.createObjectURL(o),s=document.createElement("a");s.style.display="none",s.href=i,s.setAttribute("download",t),"undefined"===typeof s.download&&s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(i)}),200)}}},38569:function(e,t,n){"use strict";t.Q=void 0;var r=n(68252);Object.defineProperty(t,"Q",{enumerable:!0,get:function(){return r.useAudio}})},68252:function(e,t,n){"use strict";var r=n(63038).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useAudio=void 0;var o=n(47313);t.useAudio=function(e){var t=(0,o.useMemo)((function(){return new Audio(e.src)}),[e.src]),n=(0,o.useState)(!1),i=r(n,2),s=i[0],c=i[1],l=function(){t.play().then((function(){return c(!0)})).catch((function(t){var n;c(!1),console.log(t),null===(n=e.onError)||void 0===n||n.call(e,t)}))},a=function(){c(!1),t.pause()};return(0,o.useEffect)((function(){return t.loop=e.loop||!1,t.volume=e.volume||1,t.muted=e.muted||!1,t.onloadeddata=function(t){var n;return null===(n=e.onLoadedData)||void 0===n?void 0:n.call(e,t)},t.addEventListener("ended",(function(n){var r;null===(r=e.onEnded)||void 0===r||r.call(e,n),e.loop?t.play():c(!1)})),function(){!e.loop&&t.removeEventListener("ended",(function(){return c(!1)}))}}),[t,e]),{isPlaying:s,play:l,pause:a,toggle:function(){return s?a():l()}}}}}]);