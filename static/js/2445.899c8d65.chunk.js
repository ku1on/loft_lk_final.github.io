"use strict";(self.webpackChunkloft=self.webpackChunkloft||[]).push([[2445],{32445:function(e,r,s){s.r(r);var n=s(1413),t=s(15861),i=s(29439),c=s(87757),a=s.n(c),o=s(47313),u=s(74511),l=s(90841),d=s(44415),p=s(12520),x=s(8710),h=s(16106),b=s(31881),m=s.n(b),g=s(69172),f=s(2360),j=s(24511),v=s(97890),y=s(75627),I=s(46417);r.default=function(){var e=(0,j.$)().t,r=(0,u.pm)(),s=(0,v.s0)(),c=o.useState(!1),b=(0,i.Z)(c,2),q=b[0],w=b[1],Z=o.useState(!0),S=(0,i.Z)(Z,2),C=S[0],k=S[1];o.useEffect((function(){var e=function(){var e=(0,t.Z)(a().mark((function e(){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat((0,g.Z)(),"/user/profile_info"),{headers:{authorization:"Bearer ".concat((0,f.Z)())}});case 2:r=e.sent,s=r.data,k(s.user.isLabel);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var X=(0,y.cI)(),z=X.register,D=X.handleSubmit,F=X.formState.errors,T=function(){var e=(0,t.Z)(a().mark((function e(n){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,""===n.copyrights.trim()&&(n.copyrights="EITHER.DIGITAL"),e.next=5,m().post("".concat((0,g.Z)(),"/user/create_user"),n,{headers:{authorization:"Bearer ".concat((0,f.Z)())}});case 5:t=e.sent,(i=t.data).error?r({position:"top",title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",description:"".concat(i.error),status:"error",duration:3e3,isClosable:!0}):(r({position:"top",title:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0441\u043e\u0437\u0434\u0430\u043d!",description:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u043f\u0440\u0430\u043b\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u043f\u043e\u0447\u0442\u0443 ".concat(i.user.email),status:"success",duration:3e3,isClosable:!0}),s("/sub-accounts")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r({position:"top",title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",description:"".concat(e.t0),status:"error",duration:3e3,isClosable:!0});case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(r){return e.apply(this,arguments)}}();return(0,I.jsxs)(l.Kq,{direction:"column",spacing:"20px",children:[(0,I.jsx)(l.X6,{children:e("subaccounts.create")}),(0,I.jsx)("form",{onSubmit:D(T),children:(0,I.jsxs)(l.Kq,{direction:"column",spacing:["20px","30px"],maxW:"3xl",children:[(0,I.jsxs)(l.xu,{borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",bgColor:"white",padding:6,children:[(0,I.jsx)(l.X6,{size:"md",children:e("subaccounts.create.info")}),(0,I.jsxs)(l.Kq,{paddingTop:5,spacing:"10px",direction:"column",children:[(0,I.jsxs)(d.NI,{isInvalid:!!F.name,children:[(0,I.jsx)(d.lX,{fontWeight:"bold",children:e("subaccounts.create.info.name")}),(0,I.jsx)(p.Input,(0,n.Z)({isDisabled:q,placeholder:e("subaccounts.create.info.name.placeholder")},z("name",{required:!0}))),F.name&&(0,I.jsx)(d.J1,{children:"required"===F.name.type&&(0,I.jsx)(I.Fragment,{children:e("subaccounts.create.required")})||(0,I.jsx)(I.Fragment,{children:F.name.message})})]}),(0,I.jsxs)(l.Kq,{direction:["column","row"],spacing:"10px",children:[(0,I.jsxs)(d.NI,{isInvalid:!!F.email,children:[(0,I.jsx)(d.lX,{fontWeight:"bold",children:e("subaccounts.create.info.email")}),(0,I.jsx)(p.Input,(0,n.Z)({isDisabled:q,placeholder:e("subaccounts.create.info.email.placeholder")},z("email",{required:!0,pattern:/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i}))),F.email&&(0,I.jsx)(d.J1,{children:"required"===F.email.type&&(0,I.jsx)(I.Fragment,{children:e("subaccounts.create.required")})||(0,I.jsx)(I.Fragment,{children:e("subaccounts.create.incorrect")})})]}),(0,I.jsxs)(d.NI,{isInvalid:!!F.username,children:[(0,I.jsx)(d.lX,{fontWeight:"bold",children:e("subaccounts.create.info.login")}),(0,I.jsx)(p.Input,(0,n.Z)({isDisabled:q,placeholder:e("subaccounts.create.info.login.placeholder")},z("username",{required:!0}))),F.username&&(0,I.jsx)(d.J1,{children:"required"===F.username.type&&(0,I.jsx)(I.Fragment,{children:e("subaccounts.create.required")})||(0,I.jsx)(I.Fragment,{children:F.username.message})})]})]})]})]}),(0,I.jsxs)(l.xu,{borderWidth:"1px",style:{boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.01),0px 2px 4px -1px rgba(0, 0, 0, 0.06)"},borderRadius:"lg",bgColor:"white",padding:6,children:[(0,I.jsx)(l.X6,{size:"md",children:e("subaccounts.create.copyrights")}),(0,I.jsxs)(d.NI,{paddingTop:5,isInvalid:!!F.copyrights,children:[(0,I.jsx)(d.lX,{color:"gray.700",fontSize:"0.875rem",children:e("subaccounts.create.copyrights.info")}),(0,I.jsx)(x.g,(0,n.Z)({value:C?null:"EITHER.DIGTAL",isDisabled:!C||q,placeholder:e("subaccounts.create.copyrights.placeholder")},z("copyrights"))),F.copyrights&&(0,I.jsx)(d.J1,{children:F.name.message})]})]}),(0,I.jsxs)(l.Kq,{direction:"row",justifyContent:"space-between",children:[(0,I.jsx)(l.xu,{}),(0,I.jsx)(h.zx,{isLoading:q,colorScheme:"teal",type:"submit",children:e("subaccounts.create")})]})]})})]})}}}]);